{"version":3,"sources":["../../../../src/basic/Tabs/ScrollableTabBar.js"],"names":["Button","require","ReactNative","View","Animated","StyleSheet","ScrollView","Platform","Dimensions","WINDOW_WIDTH","get","width","ScrollableTabBar","propTypes","goToPage","func","activeTab","number","tabs","array","backgroundColor","string","activeTextColor","inactiveTextColor","scrollOffset","style","tabStyle","tabsContainerStyle","renderTab","underlineStyle","onScroll","contextTypes","theme","object","getDefaultProps","tabDefaultBg","tabFontSize","getInitialState","_tabsMeasurements","_leftTabUnderline","Value","_widthTabUnderline","_containerWidth","componentDidMount","props","scrollValue","addListener","updateView","offset","isRTL","value","length","position","Math","floor","pageOffset","tabCount","lastTabPosition","necessarilyMeasurementsCompleted","updateTabPanel","updateTabUnderline","isLastTab","_tabContainerMeasurements","_containerMeasurements","containerWidth","tabWidth","nextTabMeasurements","nextTabWidth","tabOffset","left","absolutePageOffset","newScrollX","console","log","OS","_scrollView","scrollTo","x","y","animated","rightBoundScroll","lineLeft","lineRight","right","nextTabLeft","nextTabRight","newLineLeft","newLineRight","state","setValue","name","page","isTabActive","onPressHandler","onLayoutHandler","activeTabStyle","textStyle","activeTextStyle","tabHeaderStyle","headerContent","children","undefined","textColor","fontWeight","fontSize","random","measureTab","event","nativeEvent","layout","height","_value","render","variables","context","tabUnderlineStyle","topTabBarActiveBorderColor","bottom","dynamicTabUnderline","styles","container","onContainerLayout","scrollView","onTabContainerLayout","map","bind","componentWillReceiveProps","nextProps","isEqual","setState","e","StyledTab","ScrollableTab","create","tab","alignItems","justifyContent","paddingLeft","paddingRight","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderColor","flexDirection"],"mappings":"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","file":"ScrollableTabBar.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport createReactClass from \"create-react-class\";\nimport _ from \"lodash\";\nimport { connectStyle, StyleProvider } from \"native-base-shoutem-theme\";\nimport mapPropsToStyleNames from \"../../utils/mapPropsToStyleNames\";\nimport variable from \"./../../theme/variables/platform\";\nimport { TabHeading, Text, TabContainer } from \"./../../index\";\nimport { ViewPropTypes } from \"../../utils\";\nconst Button = require(\"./Button\");\nconst ReactNative = require(\"react-native\");\nconst {\n  View,\n  Animated,\n  StyleSheet,\n  ScrollView,\n  Platform,\n  Dimensions\n} = ReactNative;\n\nconst WINDOW_WIDTH = Dimensions.get(\"window\").width;\n\nconst ScrollableTabBar = createReactClass({\n  propTypes: {\n    goToPage: PropTypes.func,\n    activeTab: PropTypes.number,\n    tabs: PropTypes.array,\n    backgroundColor: PropTypes.string,\n    activeTextColor: PropTypes.string,\n    inactiveTextColor: PropTypes.string,\n    scrollOffset: PropTypes.number,\n    style: ViewPropTypes.style,\n    tabStyle: ViewPropTypes.style,\n    tabsContainerStyle: ViewPropTypes.style,\n    renderTab: PropTypes.func,\n    underlineStyle: ViewPropTypes.style,\n    onScroll: PropTypes.func\n  },\n  contextTypes: {\n    theme: PropTypes.object\n  },\n\n  getDefaultProps() {\n    return {\n      scrollOffset: 52,\n      activeTextColor: \"navy\",\n      inactiveTextColor: \"black\",\n      backgroundColor: variable.tabDefaultBg,\n      style: {},\n      tabStyle: {},\n      tabsContainerStyle: {},\n      underlineStyle: {},\n      tabFontSize: variable.tabFontSize\n    };\n  },\n\n  getInitialState() {\n    this._tabsMeasurements = [];\n    return {\n      _leftTabUnderline: new Animated.Value(0),\n      _widthTabUnderline: new Animated.Value(0),\n      _containerWidth: null\n    };\n  },\n\n  componentDidMount() {\n    this.props.scrollValue.addListener(this.updateView);\n  },\n\n  updateView(offset) {\n    if(this.props.isRTL) offset.value = this.props.tabs.length - offset.value - 1;\n    const position = Math.floor(offset.value);\n    const pageOffset = offset.value % 1;\n    const tabCount = this.props.tabs.length;\n    const lastTabPosition = tabCount - 1;\n\n    if (tabCount === 0 || offset.value < 0 || offset.value > lastTabPosition) {\n      return;\n    }\n\n    if (\n      this.necessarilyMeasurementsCompleted(\n        position,\n        position === lastTabPosition\n      )\n    ) {\n      this.updateTabPanel(position, pageOffset);\n      this.updateTabUnderline(position, pageOffset, tabCount);\n    }\n  },\n\n  necessarilyMeasurementsCompleted(position, isLastTab) {\n    return (\n      this._tabsMeasurements[position] &&\n      (isLastTab || this._tabsMeasurements[position + 1]) &&\n      this._tabContainerMeasurements &&\n      this._containerMeasurements\n    );\n  },\n\n  updateTabPanel(position, pageOffset) {\n    const containerWidth = this._containerMeasurements.width;\n    const tabWidth = this._tabsMeasurements[position].width;\n    const nextTabMeasurements = this._tabsMeasurements[position + 1];\n    const nextTabWidth =\n      (nextTabMeasurements && nextTabMeasurements.width) || 0;\n    const tabOffset = this._tabsMeasurements[position].left;\n    const absolutePageOffset = pageOffset * tabWidth;\n    let newScrollX;\n    if(this.props.isRTL) {\n        newScrollX = tabOffset - absolutePageOffset;\n    } else {\n        newScrollX = tabOffset + absolutePageOffset;\n    }\n\n    // center tab and smooth tab change (for when tabWidth changes a lot between two tabs)\n    newScrollX -=\n      (containerWidth -\n        (1 - pageOffset) * tabWidth -\n        pageOffset * nextTabWidth) /\n      2;\n    newScrollX = newScrollX >= 0 ? newScrollX : 0;\n    console.log(newScrollX)\n\n    if (Platform.OS === \"android\") {\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\n    } else {\n      const rightBoundScroll =\n        this._tabContainerMeasurements.width -\n        this._containerMeasurements.width;\n      newScrollX =\n        newScrollX > rightBoundScroll ? rightBoundScroll : newScrollX;\n      this._scrollView.scrollTo({ x: newScrollX, y: 0, animated: false });\n    }\n  },\n\n  updateTabUnderline(position, pageOffset, tabCount) {\n    if(this.props.isRTL) {\n        position = tabCount - position - 1;\n        const lineLeft = this._tabsMeasurements[position].left;\n        const lineRight = this._tabsMeasurements[position].right;\n\n        if (position > 0 ) {\n            const nextTabLeft = this._tabsMeasurements[position - 1].left;\n            const nextTabRight = this._tabsMeasurements[position - 1].right;\n\n            const newLineLeft =\n                pageOffset * nextTabLeft + (1 - pageOffset) * lineLeft;\n            const newLineRight =\n                pageOffset * nextTabRight + (1 - pageOffset) * lineRight;\n\n            this.state._leftTabUnderline.setValue(newLineLeft);\n            this.state._widthTabUnderline.setValue(newLineRight - newLineLeft);\n        } else {\n            this.state._leftTabUnderline.setValue(lineLeft);\n            this.state._widthTabUnderline.setValue(lineRight - lineLeft);\n        }\n    } else {\n        const lineLeft = this._tabsMeasurements[position].left;\n        const lineRight = this._tabsMeasurements[position].right;\n\n        if (position < tabCount - 1) {\n            const nextTabLeft = this._tabsMeasurements[position + 1].left;\n            const nextTabRight = this._tabsMeasurements[position + 1].right;\n\n            const newLineLeft =\n                pageOffset * nextTabLeft + (1 - pageOffset) * lineLeft;\n            const newLineRight =\n                pageOffset * nextTabRight + (1 - pageOffset) * lineRight;\n\n            this.state._leftTabUnderline.setValue(newLineLeft);\n            this.state._widthTabUnderline.setValue(newLineRight - newLineLeft);\n        } else {\n            this.state._leftTabUnderline.setValue(lineLeft);\n            this.state._widthTabUnderline.setValue(lineRight - lineLeft);\n        }\n    }\n\n  },\n\n  renderTab(\n    name,\n    page,\n    isTabActive,\n    onPressHandler,\n    onLayoutHandler,\n    tabStyle,\n    activeTabStyle,\n    textStyle,\n    activeTextStyle,\n    tabHeaderStyle,\n    tabFontSize\n  ) {\n    const headerContent =\n      typeof name !== \"string\" ? name.props.children : undefined;\n    const { activeTextColor, inactiveTextColor } = this.props;\n    const textColor = isTabActive ? activeTextColor : inactiveTextColor;\n    const fontWeight = isTabActive ? \"bold\" : \"normal\";\n    // const fontSize = tabFontSize;\n\n    if (typeof name === \"string\") {\n      return (\n        <Button\n          key={`${name}_${page}`}\n          onPress={() => onPressHandler(page)}\n          onLayout={onLayoutHandler}\n        >\n          <TabHeading\n            scrollable\n            style={isTabActive ? activeTabStyle : tabStyle}\n            active={isTabActive}\n          >\n            <Text\n              style={[\n                isTabActive ? activeTextStyle : textStyle,\n                { fontSize: tabFontSize }\n              ]}\n            >\n              {name}\n            </Text>\n          </TabHeading>\n        </Button>\n      );\n    } else {\n      return (\n        <Button\n          key={_.random(1.2, 5.2)}\n          onPress={() => onPressHandler(page)}\n          onLayout={onLayoutHandler}\n        >\n          <TabHeading scrollable style={tabHeaderStyle} active={isTabActive}>\n            {headerContent}\n          </TabHeading>\n        </Button>\n      );\n    }\n  },\n\n  measureTab(page, event) {\n    const { x, width, height } = event.nativeEvent.layout;\n    this._tabsMeasurements[page] = { left: x, right: x + width, width, height };\n    this.updateView({ value: this.props.scrollValue._value });\n  },\n\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    const tabUnderlineStyle = {\n      position: \"absolute\",\n      height: 4,\n      backgroundColor: variables.topTabBarActiveBorderColor,\n      bottom: 0\n    };\n\n    const dynamicTabUnderline = {\n      left: this.state._leftTabUnderline,\n      width: this.state._widthTabUnderline\n    };\n\n    return (\n      <View\n        style={[\n          styles.container,\n          { backgroundColor: this.props.backgroundColor },\n          this.props.style\n        ]}\n        onLayout={this.onContainerLayout}\n      >\n        <ScrollView\n          automaticallyAdjustContentInsets={false}\n          ref={scrollView => {\n            this._scrollView = scrollView;\n          }}\n          horizontal={true}\n          showsHorizontalScrollIndicator={false}\n          showsVerticalScrollIndicator={false}\n          directionalLockEnabled={true}\n          onScroll={this.props.onScroll}\n          bounces={false}\n          scrollsToTop={false}\n        >\n          <View\n            style={[\n              styles.tabs,\n              { width: this.state._containerWidth },\n              this.props.tabsContainerStyle\n            ]}\n            ref={\"tabContainer\"}\n            onLayout={this.onTabContainerLayout}\n          >\n            {this.props.tabs.map((name, page) => {\n              const isTabActive = this.props.activeTab === page;\n              const renderTab = this.props.renderTab || this.renderTab;\n              return renderTab(\n                name,\n                page,\n                isTabActive,\n                this.props.goToPage,\n                this.measureTab.bind(this, page),\n                this.props.tabStyle[page],\n                this.props.activeTabStyle[page],\n                this.props.textStyle[page],\n                this.props.activeTextStyle[page],\n                this.props.tabHeaderStyle[page],\n                variables.tabFontSize\n              );\n            })}\n            <Animated.View\n              style={[\n                tabUnderlineStyle,\n                dynamicTabUnderline,\n                this.props.underlineStyle\n              ]}\n            />\n          </View>\n        </ScrollView>\n      </View>\n    );\n  },\n\n  componentWillReceiveProps(nextProps) {\n    // If the tabs change, force the width of the tabs container to be recalculated\n    if (\n      !_.isEqual(this.props.tabs, nextProps.tabs) &&\n      this.state._containerWidth\n    ) {\n      this.setState({ _containerWidth: null });\n    }\n  },\n\n  onTabContainerLayout(e) {\n    this._tabContainerMeasurements = e.nativeEvent.layout;\n    let width = this._tabContainerMeasurements.width;\n    if (width < WINDOW_WIDTH) {\n      width = WINDOW_WIDTH;\n    }\n    this.setState({ _containerWidth: width });\n    this.updateView({ value: this.props.scrollValue._value });\n  },\n\n  onContainerLayout(e) {\n    this._containerMeasurements = e.nativeEvent.layout;\n    this.updateView({ value: this.props.scrollValue._value });\n  }\n});\n\n// module.exports = ScrollableTabBar;\nconst StyledTab = connectStyle(\n  \"NativeBase.ScrollableTab\",\n  {},\n  mapPropsToStyleNames\n)(ScrollableTabBar);\nexport { StyledTab as ScrollableTab };\nconst styles = StyleSheet.create({\n  tab: {\n    height: 49,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingLeft: 20,\n    paddingRight: 20\n  },\n  container: {\n    height: 50,\n    borderWidth: 1,\n    borderTopWidth: 0,\n    borderLeftWidth: 0,\n    borderRightWidth: 0,\n    borderColor: \"#ccc\"\n  },\n  tabs: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\"\n  }\n});\n"]}